{
  "name": "treecrdt-monorepo",
  "version": "0.0.1",
  "private": true,
  "workspaces": [
    "packages/*",
    "packages/sync-server/*"
  ],
  "scripts": {
    "lint": "echo \"TODO: add linting\"",
    "fmt": "cargo fmt --all",
    "fmt:check": "cargo fmt --check --all",
    "clippy": "cargo clippy --workspace --all-targets -- -D warnings -D clippy::panic -D clippy::todo -D clippy::unimplemented",
    "clippy:fix": "cargo clippy --fix --workspace --all-targets -- -D warnings -D clippy::panic -D clippy::todo -D clippy::unimplemented",
    "proto:generate": "buf generate",
    "build:ext:wasm": "cargo build -p treecrdt-sqlite-ext --target wasm32-unknown-emscripten --release --no-default-features --features static-link",
    "build:ext:native": "cargo rustc -p treecrdt-sqlite-ext --release --no-default-features --features \"ext-sqlite rusqlite-storage\" -- --crate-type=cdylib",
    "build": "pnpm -C packages/treecrdt-ts run build && pnpm -C packages/treecrdt-benchmark run build && pnpm --filter @treecrdt/wa-sqlite-vendor build && pnpm -C packages/treecrdt-wa-sqlite run build:ts && pnpm -C packages/treecrdt-wa-sqlite/e2e run build && pnpm -C packages/treecrdt-sqlite-node run build",
    "test:browser": "pnpm -C packages/treecrdt-wa-sqlite/e2e test:e2e",
    "test:native-node": "pnpm -C packages/treecrdt-sqlite-node run test",
    "benchmark": "rm -rf benchmarks && mkdir -p benchmarks && pnpm -C packages/treecrdt-benchmark run build && pnpm -C packages/treecrdt-wa-sqlite/e2e run bench && pnpm -C packages/treecrdt-sqlite-node run benchmark && pnpm -C packages/treecrdt-wasm-js run benchmark && pnpm run benchmark:core && pnpm run benchmark:aggregate",
    "benchmark:core": "cargo bench -p treecrdt-core --bench core --features bench",
    "benchmark:aggregate": "node scripts/aggregate-bench.mjs",
    "test": "pnpm run test:browser && pnpm run test:native-node",
    "playground": "pnpm --filter @treecrdt/playground dev",
    "sync-server:setup": "pnpm -C packages/treecrdt-sync build && pnpm -C packages/treecrdt-sqlite-node build",
    "sync-server": "pnpm --filter @treecrdt/sync-server-sqlite-node dev"
  },
  "devDependencies": {
    "@bufbuild/buf": "^1.61.0",
    "@bufbuild/protoc-gen-es": "^2.10.2"
  }
}
