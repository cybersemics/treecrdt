[package]
name = "treecrdt-core"
version = "0.0.1"
edition = "2021"
license = "MIT"
description = "Core TreeCRDT library with storage/index abstractions."

[dependencies]
serde = { version = "1.0", features = ["derive"], optional = true }
serde_json = { version = "1.0", optional = true }
thiserror = "1.0"
chrono = { version = "0.4", default-features = false, features = ["clock"], optional = true }

[features]
default = []
serde = ["dep:serde", "dep:serde_json", "dep:chrono"]
wasm = []
sql-storage = []
bench = ["serde"]

[dev-dependencies]
criterion = { version = "0.5", default-features = false, features = ["cargo_bench_support"] }
proptest = "1"

[[bin]]
name = "treecrdt-core-bench"
path = "src/bin/bench.rs"
required-features = ["bench"]

[[bench]]
name = "core"
harness = false
