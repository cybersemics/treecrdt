// @generated by protoc-gen-es v2.10.2 with parameter "target=ts,import_extension=.js"
// @generated from file sync/v0/messages.proto (package treecrdt.sync.v0, syntax proto3)
/* eslint-disable */

import type { GenEnum, GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import { enumDesc, fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv2";
import type { Filter } from "./filters_pb.js";
import { file_sync_v0_filters } from "./filters_pb.js";
import type { Operation } from "./ops_pb.js";
import { file_sync_v0_ops } from "./ops_pb.js";
import type { OpRef } from "./types_pb.js";
import { file_sync_v0_types } from "./types_pb.js";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file sync/v0/messages.proto.
 */
export const file_sync_v0_messages: GenFile = /*@__PURE__*/
  fileDesc("ChZzeW5jL3YwL21lc3NhZ2VzLnByb3RvEhB0cmVlY3JkdC5zeW5jLnYwIikKCkNhcGFiaWxpdHkSDAoEbmFtZRgBIAEoCRINCgV2YWx1ZRgCIAEoCSJCCgpGaWx0ZXJTcGVjEgoKAmlkGAEgASgJEigKBmZpbHRlchgCIAEoCzIYLnRyZWVjcmR0LnN5bmMudjAuRmlsdGVyIn8KBUhlbGxvEjIKDGNhcGFiaWxpdGllcxgBIAMoCzIcLnRyZWVjcmR0LnN5bmMudjAuQ2FwYWJpbGl0eRItCgdmaWx0ZXJzGAIgAygLMhwudHJlZWNyZHQuc3luYy52MC5GaWx0ZXJTcGVjEhMKC21heF9sYW1wb3J0GAMgASgEIloKDlJlamVjdGVkRmlsdGVyEgoKAmlkGAEgASgJEisKBnJlYXNvbhgCIAEoDjIbLnRyZWVjcmR0LnN5bmMudjAuRXJyb3JDb2RlEg8KB21lc3NhZ2UYAyABKAkiqQEKCEhlbGxvQWNrEjIKDGNhcGFiaWxpdGllcxgBIAMoCzIcLnRyZWVjcmR0LnN5bmMudjAuQ2FwYWJpbGl0eRIYChBhY2NlcHRlZF9maWx0ZXJzGAIgAygJEjoKEHJlamVjdGVkX2ZpbHRlcnMYAyADKAsyIC50cmVlY3JkdC5zeW5jLnYwLlJlamVjdGVkRmlsdGVyEhMKC21heF9sYW1wb3J0GAQgASgEIkIKDVJpYmx0Q29kZXdvcmQSDQoFY291bnQYASABKBESDwoHa2V5X3N1bRgCIAEoDBIRCgl2YWx1ZV9zdW0YAyABKAwiewoOUmlibHRDb2Rld29yZHMSEQoJZmlsdGVyX2lkGAEgASgJEg0KBXJvdW5kGAIgASgNEhMKC3N0YXJ0X2luZGV4GAMgASgEEjIKCWNvZGV3b3JkcxgEIAMoCzIfLnRyZWVjcmR0LnN5bmMudjAuUmlibHRDb2Rld29yZCKOAQoMUmlibHREZWNvZGVkEi8KDnNlbmRlcl9taXNzaW5nGAEgAygLMhcudHJlZWNyZHQuc3luYy52MC5PcFJlZhIxChByZWNlaXZlcl9taXNzaW5nGAIgAygLMhcudHJlZWNyZHQuc3luYy52MC5PcFJlZhIaChJjb2Rld29yZHNfcmVjZWl2ZWQYAyABKAQiVAoLUmlibHRGYWlsZWQSNAoGcmVhc29uGAEgASgOMiQudHJlZWNyZHQuc3luYy52MC5SaWJsdEZhaWx1cmVSZWFzb24SDwoHbWVzc2FnZRgCIAEoCSKeAQoLUmlibHRTdGF0dXMSEQoJZmlsdGVyX2lkGAEgASgJEg0KBXJvdW5kGAIgASgNEjEKB2RlY29kZWQYAyABKAsyHi50cmVlY3JkdC5zeW5jLnYwLlJpYmx0RGVjb2RlZEgAEi8KBmZhaWxlZBgEIAEoCzIdLnRyZWVjcmR0LnN5bmMudjAuUmlibHRGYWlsZWRIAEIJCgdwYXlsb2FkIn0KCE9wc0JhdGNoEhEKCWZpbHRlcl9pZBgBIAEoCRIoCgNvcHMYAiADKAsyGy50cmVlY3JkdC5zeW5jLnYwLk9wZXJhdGlvbhImCgRhdXRoGAQgAygLMhgudHJlZWNyZHQuc3luYy52MC5PcEF1dGgSDAoEZG9uZRgDIAEoCCIuCgZPcEF1dGgSCwoDc2lnGAIgASgMEhEKCXByb29mX3JlZhgDIAEoDEoECAEQAiJOCglTdWJzY3JpYmUSFwoPc3Vic2NyaXB0aW9uX2lkGAEgASgJEigKBmZpbHRlchgCIAEoCzIYLnRyZWVjcmR0LnN5bmMudjAuRmlsdGVyIkAKDFN1YnNjcmliZUFjaxIXCg9zdWJzY3JpcHRpb25faWQYASABKAkSFwoPY3VycmVudF9sYW1wb3J0GAIgASgEIiYKC1Vuc3Vic2NyaWJlEhcKD3N1YnNjcmlwdGlvbl9pZBgBIAEoCSJzCglTeW5jRXJyb3ISKQoEY29kZRgBIAEoDjIbLnRyZWVjcmR0LnN5bmMudjAuRXJyb3JDb2RlEg8KB21lc3NhZ2UYAiABKAkSEQoJZmlsdGVyX2lkGAMgASgJEhcKD3N1YnNjcmlwdGlvbl9pZBgEIAEoCSp7ChJSaWJsdEZhaWx1cmVSZWFzb24SJAogUklCTFRfRkFJTFVSRV9SRUFTT05fVU5TUEVDSUZJRUQQABIaChZNQVhfQ09ERVdPUkRTX0VYQ0VFREVEEAESEQoNREVDT0RFX0ZBSUxFRBACEhAKDE9VVF9PRl9PUkRFUhADKrcBCglFcnJvckNvZGUSGgoWRVJST1JfQ09ERV9VTlNQRUNJRklFRBAAEhcKE1VOU1VQUE9SVEVEX1ZFUlNJT04QARIYChRGSUxURVJfTk9UX1NVUFBPUlRFRBACEhQKEFRPT19NQU5ZX0ZJTFRFUlMQAxIgChxSRUNPTkNJTElBVElPTl9ERUNPREVfRkFJTEVEEAQSEAoMUkFURV9MSU1JVEVEEAUSEQoNRE9DX05PVF9GT1VORBAGYgZwcm90bzM", [file_sync_v0_filters, file_sync_v0_ops, file_sync_v0_types]);

/**
 * @generated from message treecrdt.sync.v0.Capability
 */
export type Capability = Message<"treecrdt.sync.v0.Capability"> & {
  /**
   * @generated from field: string name = 1;
   */
  name: string;

  /**
   * @generated from field: string value = 2;
   */
  value: string;
};

/**
 * Describes the message treecrdt.sync.v0.Capability.
 * Use `create(CapabilitySchema)` to create a new message.
 */
export const CapabilitySchema: GenMessage<Capability> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 0);

/**
 * @generated from message treecrdt.sync.v0.FilterSpec
 */
export type FilterSpec = Message<"treecrdt.sync.v0.FilterSpec"> & {
  /**
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * @generated from field: treecrdt.sync.v0.Filter filter = 2;
   */
  filter?: Filter;
};

/**
 * Describes the message treecrdt.sync.v0.FilterSpec.
 * Use `create(FilterSpecSchema)` to create a new message.
 */
export const FilterSpecSchema: GenMessage<FilterSpec> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 1);

/**
 * @generated from message treecrdt.sync.v0.Hello
 */
export type Hello = Message<"treecrdt.sync.v0.Hello"> & {
  /**
   * @generated from field: repeated treecrdt.sync.v0.Capability capabilities = 1;
   */
  capabilities: Capability[];

  /**
   * @generated from field: repeated treecrdt.sync.v0.FilterSpec filters = 2;
   */
  filters: FilterSpec[];

  /**
   * @generated from field: uint64 max_lamport = 3;
   */
  maxLamport: bigint;
};

/**
 * Describes the message treecrdt.sync.v0.Hello.
 * Use `create(HelloSchema)` to create a new message.
 */
export const HelloSchema: GenMessage<Hello> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 2);

/**
 * @generated from message treecrdt.sync.v0.RejectedFilter
 */
export type RejectedFilter = Message<"treecrdt.sync.v0.RejectedFilter"> & {
  /**
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * @generated from field: treecrdt.sync.v0.ErrorCode reason = 2;
   */
  reason: ErrorCode;

  /**
   * @generated from field: string message = 3;
   */
  message: string;
};

/**
 * Describes the message treecrdt.sync.v0.RejectedFilter.
 * Use `create(RejectedFilterSchema)` to create a new message.
 */
export const RejectedFilterSchema: GenMessage<RejectedFilter> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 3);

/**
 * @generated from message treecrdt.sync.v0.HelloAck
 */
export type HelloAck = Message<"treecrdt.sync.v0.HelloAck"> & {
  /**
   * @generated from field: repeated treecrdt.sync.v0.Capability capabilities = 1;
   */
  capabilities: Capability[];

  /**
   * @generated from field: repeated string accepted_filters = 2;
   */
  acceptedFilters: string[];

  /**
   * @generated from field: repeated treecrdt.sync.v0.RejectedFilter rejected_filters = 3;
   */
  rejectedFilters: RejectedFilter[];

  /**
   * @generated from field: uint64 max_lamport = 4;
   */
  maxLamport: bigint;
};

/**
 * Describes the message treecrdt.sync.v0.HelloAck.
 * Use `create(HelloAckSchema)` to create a new message.
 */
export const HelloAckSchema: GenMessage<HelloAck> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 4);

/**
 * Reconciliation via RIBLT (rateless IBLT codewords).
 *
 * Each codeword is the triple (count, key_sum, value_sum).
 * - count: signed count
 * - key_sum: XOR of 64-bit symbol hashes (8 bytes)
 * - value_sum: XOR of 16-byte OpRef values (16 bytes)
 *
 * Implementations MUST agree on:
 * - OpRef derivation (see docs/sync/v0.md and OpRef comments in docs/sync/v0/types.proto)
 * - symbol hash function used by RIBLT (see docs/sync/v0.md; v0 in this repo uses a SplitMix64-based non-linear hash)
 *
 * @generated from message treecrdt.sync.v0.RibltCodeword
 */
export type RibltCodeword = Message<"treecrdt.sync.v0.RibltCodeword"> & {
  /**
   * @generated from field: sint32 count = 1;
   */
  count: number;

  /**
   * MUST be 8 bytes
   *
   * @generated from field: bytes key_sum = 2;
   */
  keySum: Uint8Array;

  /**
   * MUST be 16 bytes (OpRef width)
   *
   * @generated from field: bytes value_sum = 3;
   */
  valueSum: Uint8Array;
};

/**
 * Describes the message treecrdt.sync.v0.RibltCodeword.
 * Use `create(RibltCodewordSchema)` to create a new message.
 */
export const RibltCodewordSchema: GenMessage<RibltCodeword> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 5);

/**
 * @generated from message treecrdt.sync.v0.RibltCodewords
 */
export type RibltCodewords = Message<"treecrdt.sync.v0.RibltCodewords"> & {
  /**
   * @generated from field: string filter_id = 1;
   */
  filterId: string;

  /**
   * @generated from field: uint32 round = 2;
   */
  round: number;

  /**
   * Codewords are streamed in order; start_index MUST equal the receiver's next expected index.
   *
   * @generated from field: uint64 start_index = 3;
   */
  startIndex: bigint;

  /**
   * @generated from field: repeated treecrdt.sync.v0.RibltCodeword codewords = 4;
   */
  codewords: RibltCodeword[];
};

/**
 * Describes the message treecrdt.sync.v0.RibltCodewords.
 * Use `create(RibltCodewordsSchema)` to create a new message.
 */
export const RibltCodewordsSchema: GenMessage<RibltCodewords> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 6);

/**
 * @generated from message treecrdt.sync.v0.RibltDecoded
 */
export type RibltDecoded = Message<"treecrdt.sync.v0.RibltDecoded"> & {
  /**
   * @generated from field: repeated treecrdt.sync.v0.OpRef sender_missing = 1;
   */
  senderMissing: OpRef[];

  /**
   * @generated from field: repeated treecrdt.sync.v0.OpRef receiver_missing = 2;
   */
  receiverMissing: OpRef[];

  /**
   * @generated from field: uint64 codewords_received = 3;
   */
  codewordsReceived: bigint;
};

/**
 * Describes the message treecrdt.sync.v0.RibltDecoded.
 * Use `create(RibltDecodedSchema)` to create a new message.
 */
export const RibltDecodedSchema: GenMessage<RibltDecoded> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 7);

/**
 * @generated from message treecrdt.sync.v0.RibltFailed
 */
export type RibltFailed = Message<"treecrdt.sync.v0.RibltFailed"> & {
  /**
   * @generated from field: treecrdt.sync.v0.RibltFailureReason reason = 1;
   */
  reason: RibltFailureReason;

  /**
   * @generated from field: string message = 2;
   */
  message: string;
};

/**
 * Describes the message treecrdt.sync.v0.RibltFailed.
 * Use `create(RibltFailedSchema)` to create a new message.
 */
export const RibltFailedSchema: GenMessage<RibltFailed> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 8);

/**
 * @generated from message treecrdt.sync.v0.RibltStatus
 */
export type RibltStatus = Message<"treecrdt.sync.v0.RibltStatus"> & {
  /**
   * @generated from field: string filter_id = 1;
   */
  filterId: string;

  /**
   * @generated from field: uint32 round = 2;
   */
  round: number;

  /**
   * @generated from oneof treecrdt.sync.v0.RibltStatus.payload
   */
  payload: {
    /**
     * @generated from field: treecrdt.sync.v0.RibltDecoded decoded = 3;
     */
    value: RibltDecoded;
    case: "decoded";
  } | {
    /**
     * @generated from field: treecrdt.sync.v0.RibltFailed failed = 4;
     */
    value: RibltFailed;
    case: "failed";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message treecrdt.sync.v0.RibltStatus.
 * Use `create(RibltStatusSchema)` to create a new message.
 */
export const RibltStatusSchema: GenMessage<RibltStatus> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 9);

/**
 * @generated from message treecrdt.sync.v0.OpsBatch
 */
export type OpsBatch = Message<"treecrdt.sync.v0.OpsBatch"> & {
  /**
   * @generated from field: string filter_id = 1;
   */
  filterId: string;

  /**
   * @generated from field: repeated treecrdt.sync.v0.Operation ops = 2;
   */
  ops: Operation[];

  /**
   * Optional auth metadata aligned with `ops` by index.
   *
   * If present, `auth` MUST be either empty (no auth) or exactly the same length
   * as `ops` (one entry per operation).
   *
   * @generated from field: repeated treecrdt.sync.v0.OpAuth auth = 4;
   */
  auth: OpAuth[];

  /**
   * @generated from field: bool done = 3;
   */
  done: boolean;
};

/**
 * Describes the message treecrdt.sync.v0.OpsBatch.
 * Use `create(OpsBatchSchema)` to create a new message.
 */
export const OpsBatchSchema: GenMessage<OpsBatch> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 10);

/**
 * Auth metadata attached to a single operation.
 *
 * This is an optional extension to Sync v0. Implementations that do not support
 * auth MUST ignore these fields.
 *
 * @generated from message treecrdt.sync.v0.OpAuth
 */
export type OpAuth = Message<"treecrdt.sync.v0.OpAuth"> & {
  /**
   * Signature bytes (Ed25519: 64 bytes) over the canonical signing input.
   *
   * @generated from field: bytes sig = 2;
   */
  sig: Uint8Array;

  /**
   * Optional reference to an authorization proof (e.g. token id / hash).
   *
   * @generated from field: bytes proof_ref = 3;
   */
  proofRef: Uint8Array;
};

/**
 * Describes the message treecrdt.sync.v0.OpAuth.
 * Use `create(OpAuthSchema)` to create a new message.
 */
export const OpAuthSchema: GenMessage<OpAuth> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 11);

/**
 * Push-based subscription for live updates.
 *
 * The initiator chooses `subscription_id` (unique within the session) and a `filter`.
 * The responder acks with `SubscribeAck` and then MAY stream incremental `OpsBatch`
 * messages for new operations relevant to the filter.
 *
 * @generated from message treecrdt.sync.v0.Subscribe
 */
export type Subscribe = Message<"treecrdt.sync.v0.Subscribe"> & {
  /**
   * @generated from field: string subscription_id = 1;
   */
  subscriptionId: string;

  /**
   * @generated from field: treecrdt.sync.v0.Filter filter = 2;
   */
  filter?: Filter;
};

/**
 * Describes the message treecrdt.sync.v0.Subscribe.
 * Use `create(SubscribeSchema)` to create a new message.
 */
export const SubscribeSchema: GenMessage<Subscribe> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 12);

/**
 * Acknowledges a Subscribe request.
 *
 * @generated from message treecrdt.sync.v0.SubscribeAck
 */
export type SubscribeAck = Message<"treecrdt.sync.v0.SubscribeAck"> & {
  /**
   * @generated from field: string subscription_id = 1;
   */
  subscriptionId: string;

  /**
   * @generated from field: uint64 current_lamport = 2;
   */
  currentLamport: bigint;
};

/**
 * Describes the message treecrdt.sync.v0.SubscribeAck.
 * Use `create(SubscribeAckSchema)` to create a new message.
 */
export const SubscribeAckSchema: GenMessage<SubscribeAck> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 13);

/**
 * Stops a previously-established subscription.
 *
 * @generated from message treecrdt.sync.v0.Unsubscribe
 */
export type Unsubscribe = Message<"treecrdt.sync.v0.Unsubscribe"> & {
  /**
   * @generated from field: string subscription_id = 1;
   */
  subscriptionId: string;
};

/**
 * Describes the message treecrdt.sync.v0.Unsubscribe.
 * Use `create(UnsubscribeSchema)` to create a new message.
 */
export const UnsubscribeSchema: GenMessage<Unsubscribe> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 14);

/**
 * @generated from message treecrdt.sync.v0.SyncError
 */
export type SyncError = Message<"treecrdt.sync.v0.SyncError"> & {
  /**
   * @generated from field: treecrdt.sync.v0.ErrorCode code = 1;
   */
  code: ErrorCode;

  /**
   * @generated from field: string message = 2;
   */
  message: string;

  /**
   * @generated from field: string filter_id = 3;
   */
  filterId: string;

  /**
   * @generated from field: string subscription_id = 4;
   */
  subscriptionId: string;
};

/**
 * Describes the message treecrdt.sync.v0.SyncError.
 * Use `create(SyncErrorSchema)` to create a new message.
 */
export const SyncErrorSchema: GenMessage<SyncError> = /*@__PURE__*/
  messageDesc(file_sync_v0_messages, 15);

/**
 * @generated from enum treecrdt.sync.v0.RibltFailureReason
 */
export enum RibltFailureReason {
  /**
   * @generated from enum value: RIBLT_FAILURE_REASON_UNSPECIFIED = 0;
   */
  RIBLT_FAILURE_REASON_UNSPECIFIED = 0,

  /**
   * @generated from enum value: MAX_CODEWORDS_EXCEEDED = 1;
   */
  MAX_CODEWORDS_EXCEEDED = 1,

  /**
   * @generated from enum value: DECODE_FAILED = 2;
   */
  DECODE_FAILED = 2,

  /**
   * @generated from enum value: OUT_OF_ORDER = 3;
   */
  OUT_OF_ORDER = 3,
}

/**
 * Describes the enum treecrdt.sync.v0.RibltFailureReason.
 */
export const RibltFailureReasonSchema: GenEnum<RibltFailureReason> = /*@__PURE__*/
  enumDesc(file_sync_v0_messages, 0);

/**
 * @generated from enum treecrdt.sync.v0.ErrorCode
 */
export enum ErrorCode {
  /**
   * @generated from enum value: ERROR_CODE_UNSPECIFIED = 0;
   */
  ERROR_CODE_UNSPECIFIED = 0,

  /**
   * @generated from enum value: UNSUPPORTED_VERSION = 1;
   */
  UNSUPPORTED_VERSION = 1,

  /**
   * @generated from enum value: FILTER_NOT_SUPPORTED = 2;
   */
  FILTER_NOT_SUPPORTED = 2,

  /**
   * @generated from enum value: TOO_MANY_FILTERS = 3;
   */
  TOO_MANY_FILTERS = 3,

  /**
   * @generated from enum value: RECONCILIATION_DECODE_FAILED = 4;
   */
  RECONCILIATION_DECODE_FAILED = 4,

  /**
   * @generated from enum value: RATE_LIMITED = 5;
   */
  RATE_LIMITED = 5,

  /**
   * @generated from enum value: DOC_NOT_FOUND = 6;
   */
  DOC_NOT_FOUND = 6,

  /**
   * @generated from enum value: UNAUTHORIZED = 7;
   */
  UNAUTHORIZED = 7,
}

/**
 * Describes the enum treecrdt.sync.v0.ErrorCode.
 */
export const ErrorCodeSchema: GenEnum<ErrorCode> = /*@__PURE__*/
  enumDesc(file_sync_v0_messages, 1);
